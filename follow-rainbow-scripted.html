<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1 user-scalable=0">
    <style> body {padding: 0; margin: 0; overflow: hidden;} </style>
    <script src="./p5/p5.min.js"></script>
    <script>

/*
To make a new recording:
1. Comment out draw()
2. Uncomment mouseMoved()
3. Move mouse around and then press any kbd key.
4. Copy object from console.

*/

const BACK_IN_TIME = 20;

let hist = [];

let recording = []

let script = [{"x":208,"y":2},{"x":197,"y":5},{"x":189,"y":9},{"x":182,"y":12},{"x":174,"y":17},{"x":165,"y":24},{"x":160,"y":30},{"x":156,"y":37},{"x":154,"y":45},{"x":156,"y":51},{"x":160,"y":58},{"x":166,"y":64},{"x":175,"y":72},{"x":188,"y":79},{"x":204,"y":84},{"x":220,"y":87},{"x":239,"y":89},{"x":256,"y":90},{"x":270,"y":92},{"x":285,"y":94},{"x":298,"y":96},{"x":313,"y":98},{"x":325,"y":101},{"x":336,"y":105},{"x":346,"y":110},{"x":356,"y":116},{"x":366,"y":125},{"x":372,"y":132},{"x":376,"y":139},{"x":380,"y":146},{"x":382,"y":153},{"x":382,"y":159},{"x":382,"y":165},{"x":379,"y":168},{"x":375,"y":171},{"x":368,"y":175},{"x":359,"y":178},{"x":349,"y":181},{"x":335,"y":182},{"x":323,"y":182},{"x":313,"y":183},{"x":305,"y":183},{"x":297,"y":182},{"x":288,"y":181},{"x":279,"y":180},{"x":265,"y":179},{"x":252,"y":179},{"x":242,"y":180},{"x":232,"y":182},{"x":223,"y":186},{"x":217,"y":190},{"x":212,"y":195},{"x":210,"y":199},{"x":210,"y":204},{"x":211,"y":211},{"x":212,"y":216},{"x":215,"y":220},{"x":218,"y":224},{"x":222,"y":227},{"x":226,"y":230},{"x":233,"y":232},{"x":242,"y":232},{"x":258,"y":232},{"x":273,"y":233},{"x":288,"y":233},{"x":304,"y":234},{"x":323,"y":234},{"x":342,"y":235},{"x":359,"y":236},{"x":372,"y":239},{"x":381,"y":243},{"x":386,"y":247},{"x":391,"y":252},{"x":395,"y":261},{"x":399,"y":271},{"x":401,"y":282},{"x":401,"y":296},{"x":398,"y":309},{"x":392,"y":321},{"x":382,"y":331},{"x":370,"y":337},{"x":350,"y":342},{"x":330,"y":344},{"x":307,"y":344},{"x":290,"y":342},{"x":266,"y":338},{"x":243,"y":330},{"x":216,"y":317},{"x":195,"y":304},{"x":180,"y":292},{"x":167,"y":264},{"x":181,"y":240},{"x":201,"y":233},{"x":229,"y":229},{"x":258,"y":227},{"x":289,"y":226},{"x":323,"y":230},{"x":350,"y":238},{"x":372,"y":252},{"x":387,"y":274},{"x":391,"y":293},{"x":385,"y":312},{"x":374,"y":326},{"x":358,"y":339},{"x":334,"y":350},{"x":299,"y":356},{"x":271,"y":356},{"x":241,"y":352},{"x":215,"y":342},{"x":192,"y":327},{"x":171,"y":303},{"x":158,"y":277},{"x":155,"y":251},{"x":163,"y":233},{"x":180,"y":217},{"x":212,"y":202},{"x":249,"y":193},{"x":298,"y":190},{"x":345,"y":197},{"x":387,"y":212},{"x":423,"y":234},{"x":444,"y":259},{"x":448,"y":281},{"x":439,"y":302},{"x":419,"y":323},{"x":391,"y":341},{"x":344,"y":355},{"x":296,"y":361},{"x":249,"y":360},{"x":204,"y":351},{"x":174,"y":338},{"x":163,"y":330},{"x":165,"y":328},{"x":184,"y":328},{"x":230,"y":333},{"x":293,"y":344},{"x":363,"y":359},{"x":439,"y":382},{"x":493,"y":406},{"x":535,"y":432},{"x":574,"y":463},{"x":601,"y":490},{"x":618,"y":511},{"x":630,"y":528},{"x":638,"y":539},{"x":648,"y":549},{"x":665,"y":560},{"x":681,"y":567},{"x":698,"y":571},{"x":720,"y":571},{"x":745,"y":565},{"x":783,"y":553},{"x":821,"y":541},{"x":871,"y":519},{"x":908,"y":488},{"x":932,"y":442},{"x":941,"y":386},{"x":941,"y":347},{"x":941,"y":312},{"x":942,"y":269},{"x":944,"y":231},{"x":940,"y":202},{"x":937,"y":184},{"x":936,"y":175},{"x":936,"y":171},{"x":935,"y":170},{"x":935,"y":170},{"x":932,"y":170},{"x":924,"y":170},{"x":915,"y":176},{"x":907,"y":193},{"x":896,"y":221},{"x":886,"y":254},{"x":882,"y":292},{"x":885,"y":321},{"x":896,"y":358},{"x":908,"y":387},{"x":919,"y":413},{"x":932,"y":440},{"x":941,"y":457},{"x":950,"y":468},{"x":955,"y":473},{"x":956,"y":475},{"x":956,"y":474},{"x":954,"y":472},{"x":952,"y":471},{"x":952,"y":471}];
let totalFrames = script.length;
let frame = 0;

let canvas;

function setup() {
  canvas = createCanvas(windowWidth, windowHeight);
  colorMode(HSB);
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}

function draw() {
  background(100);

  if (hist.length >= BACK_IN_TIME) {
    hist = hist.slice(1);
  }

  hist.push({
    x: script[frame].x,
    y: script[frame].y,
  });

  frame += 1;
  if (frame >= totalFrames) {
    frame = 0;
    hist = [];
  }

  for (let i = 0; i < hist.length - 1; i++) {
    strokeWeight(10 + (i * 2));
    stroke(i * 10, 100, 100);
    line(hist[i].x, hist[i].y, hist[i + 1].x, hist[i + 1].y);
  }
}

// function mouseMoved() {
//   background(255);

//   // recording.push(mouseX, mouseY)
//   recording.push({
//     x: mouseX,
//     y: mouseY
//   });

//   if (hist.length >= BACK_IN_TIME) {
//     hist = hist.slice(1);
//   }

//   hist.push({
//     x: mouseX,
//     y: mouseY,
//   });

//   for (let i = 0; i < hist.length - 1; i++) {
//     strokeWeight(10 + (i * 2));
//     stroke(i * 10, 100, 100);
//     line(hist[i].x, hist[i].y, hist[i + 1].x, hist[i + 1].y);
//   }
// }

function keyTyped() {
  let recordingJSON = JSON.stringify(recording);
  console.log(recordingJSON);
}

function drawShape() {

}

    </script>
  </head>
  <body>
  </body>
</html>
